# ideas

## 회원 관리

### 팀 초대 관련 (메일 발송과 확인)

참고 링크 
1. https://okky.kr/article/640747 (초대장 프로세스)   
2. https://velog.io/@ehdrms2034/Spring-Security-JWT-Redis%EB%A5%BC-%ED%86%B5%ED%95%9C-%ED%9A%8C%EC%9B%90%EC%9D%B8%EC%A6%9D%ED%97%88%EA%B0%80-%EA%B5%AC%ED%98%84-4-%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85-%EC%9D%B8%EC%A6%9D-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%95%84%EC%9D%B4%EB%94%94-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8-%EC%B0%BE%EA%B8%B0

-> 리퀘스트 들어왔을 떄 헤더에서 사용자의 주소 알아내기 

발급자 : 초대장을 발급하여 다른사람에게 보내는 사람
초대자 - 발급자로부터 전달받은 초대장을 사용하는 사람

**초대장 발급 프로세스**

발급자는 아래와 같이 초대자의 이메일을 입력함

* 초대자 email

서버쪽에서는 유일한 식별키를 생성 후 디비에 레코드 한줄을 저장함     

* 발급자id
* 초대자 email
* 초대장 식별키(애플리케이션에서 생성한거..)
* 사용여부 : false(아직 사용 안했음)
* 기타 정보( _**여기다 나는 초대될 팀에 대학 정보를 넣을 것 팀 아이디를 넣을 것!!**_ )

그리고 초대자 email 주소로 메일을 쏴줌!
(메일의 본문에는 초대장 검증용 링크를 넣어줌)
발급자에게 초대장을 보냈다고 보내줌 

**초대장 확인 프로세스**

초대자는 메일을 확인하고 링크를 클릭합니다(링크 url에 식별키가 어떤식으로든 포함됨)
서버는 url에서 식별키로 초대장을 검증합니다.

검증 이후 실제 프로세스로 이동시킴(회원 가입, 권한 부여, 포인트 적립 등 각자 맥락에 맞게)

실제 프로세스가 끝나면 초대장 레코드에서 사용여부 := true로 변경 (나중에 또 클릭하면 이미 사용했다고 보여줘야 함)